# MSA(Micro Service Architecture)
## 1. 배경지식 
### 1) MONOLITHIC
- Monolithic Architecture란, 소프트웨어의 모든 구성요소가 한 프로젝트에 통합되어있는 형태.
- 아직까지는 많은 소프트웨어가 Monolithic 형태로 구현되어 있고, 소규모 프로젝트에는 Monolithic Architecture가 훨씬 합리적.
  - 간단한 Architecture이고, 유지보수가 용이하기 때문.
- 하지만 일정 규모 이상의 서비스, 혹은 수백명의 개발자가 투입되는 프로젝트에서 Monolithic Architecture은 뚜렷한 한계를 보입니다.
  - 서비스/프로젝트가 커지면 커질수록, 영향도 파악 및 전체 시스템 구조의 파악에 어려움이 있습니다.
  - 빌드 시간 및 테스트시간, 그리고 배포시간이 기하급수적으로 늘어나게 됩니다.
  - 서비스를 부분적으로 scale-out하기가 힘듭니다.
  - 부분의 장애가 전체 서비스의 장애로 이어지는 경우가 발생하게됩니다.
  
### 2) SOA(Service Oriented Architecture)
- 애플리케이션에서 비즈니스 로직을 분리하여 하나 또는 여러 개의 소프트웨어 모듈에 포함시킨 후 잘 정의된 공개 인터페이스를 통하여 프로그램적으로 접근할 수 있게 노출시키는 방식의 애플리케이션 소프트웨어 토폴로지(Topology)이다.
- SOA는 기본적으로 소프트웨어 서비스와 이를 사용하는 소프트웨어 서비스 소비자로 구성되는 클라이언트/서버 소프트웨어 디자인 접근 방식.
  - SOA가 클라이언트/서버 모델과 다른점은 SOA에서는 소프트웨어 컴포넌트들 사이의 느슨한 연계를 지원하고, 각기 분리 독립된 인터페이스를 사용한다는 점
- MSA는 큰 의미에서 SOA의 부분집합.

## 2. MSA의 특징
![MSA 개요](./picture/MSA.png)
- 각각의 서비스는 그 크기가 작을 뿐, 서비스 자체는 하나의 모놀리틱 아키텍쳐와 유사한 구조를 가짐
- 각각의 서비스는 독립적으로 배포가 가능해야함.
- 각각의 서비스는 다른 서비스에 대한 의존성이 최소화 되어야함
- 각 서비스는 개별 프로세스로 구동 되며, REST와 같은 가벼운 방식으로 통신되어야 함.

## 3. MSA의 장단점
### 1) 장점
MSA는 서비스가 커지면서 생겼던 Monolithic Architecture의 문제점들을 어느정도 보완해 줄 수 있습니다.

1. 배포(deployment) 관점
  - 서비스 별 개별 배포 가능 ( 배포 시 전체 서비스의 중단이 없음)
  - 요구사항을 신속하게 반영하여 빠르게 배포할 수 있음.
2. 확장(scaling) 관점
  - 특정 서비스에 대한 확장성이 용이함.
  - 클라우드 사용에 적합한 아키텍쳐.
3. 장애(failure) 관점
  - 장애가 전체 서비스로 확장될 가능성이 적음
  - 부분적 장애에 대한 격리가 수월함
4. 신기술의 적용이 유연하고, 서비스를 polyglot하게 개발/운영 할 수 있음.

### 2) 단점
Monolithic Architecture은 단순한 아키텍쳐인데 비해 MSA는 보다 복잡한 아키텍쳐로, 전체 서비스가 커짐에 따라 그 복잡도가 기하급수적으로 늘어날 수 있습니다.

1. 성능
  - 서비스 간 호출 시 API를 사용하기 때문에, 통신 비용이나, Latency가 그만큼 늘어나게 됩니다.
2. 테스트 / 트랜잭션
  - 서비스가 분리되어 있기 때문에 테스트와 트랜잭션의 복잡도가 증가하고, 많은 자원을 필요로 합니다.
3. 데이터 관리
  - 데이터가 여러 서비스에 걸쳐 분산되기 때문에 한번에 조회하기 어렵고, 데이터의 정합성 또한 관리하기 어렵습니다.

## 4. CI/CD
### 1) CI(Continuous Integration)
- 개발자를 위한 자동화 프로세스인 지속적인 통합을 의미.
- CI를 성공적으로 구현할 경우 애플리케이션에 대한 새로운 코드 변경 사항이 정기적으로 빌드 및 테스트되어 공유 리포지토리에 병합되므로 여러명의 개발자가 동시에 애플리케이션 개발과 관련된 코드 작업을 할 경우 서로 충돌할 수 있는 문제를 해결할 수 있다.

### 2) CD(Continuous Deployment)
- 지속적인 서비스 제공 및 지속적인 배포
- 지속적인 제공은 개발자들이 애플리케이션에 적용한 변경 사항이 버그 테스트를 거쳐 리포지토리(예: GitHub 또는 컨테이너 레지스트리)에 자동으로 업로드되는 것을 뜻함.
  - 운영팀이 이 리포지토리에서 애플리케이션을 실시간 운영환경으로 배포할 수 있습니다.
  - 개발팀과 비즈니스팀 간의 가시성과 커뮤니케이션 부족 문제를 해결해 줍니다.
  - 최소한의 노력으로 새로운 코드를 배포하는 것을 목표로 합니다.
- 지속적인 배포는 개발자의 변경 사항을 리포지토리에서 고객이 사용 가능한 운영환경까지 자동으로 릴리스하는 것을 의미합니다.
  - 이는 애플리케이션 제공 속도를 저해하는 수동 프로세스로 인한 운영팀의 프로세스 과부하 문제를 해결합니다.
  - 파이프라인의 다음 단계를 자동화함으로써 지속적인 제공이 가진 장점을 활용
